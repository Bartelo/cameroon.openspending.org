---
layout: default
title: Tignere Council Budget
---

<style>
    #cm-budget-panel {
        background-color: #fdfdfd;/*#F8F8F8;*/
        position: relative;
        top: 0px;
        width: 380px;
        min-height: 500px;
        visibility:hidden;
        float:right;

    }
    #cm-budget-table{
        border: 0px; 
        cellpadding: 4px;
        margin: 16px;
        
    }
    .left-column {
        text-align: right;
        font-size: 1em;
        width:110px;
        color: #fc5216;
        font-weight: bold;
        vertical-align: top;
    }

    .right-column {
        text-align: left;
        font-size: 	0.9em;
        font-weight: 300;
        color: #585858 ;
    }
    .table-title {
        text-align: left;
        font-size: 	1.1em;
        font-weight: bold;
        color: #585858;
        line-height: 1.3em;
        padding-left: 24px;
        padding-bottom: 12px;
    }
    .left-table-title {
        text-align: right;
        font-size: 0.9em;

        width:110px;
        color: #fc5216;
        font-weight: bold;

    }
    .right-table-title {
        text-align: left;
        font-size: 0.9em;
        color: #585858;
        font-weight: bold;

    }


</style>

<div class="homelink">
    <a href="/index.html">Back to Main Map</a>
</div>
<h2 id="council-name" class="page-title">Council Budget</h2>
<div class="intro-text"><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore</p></div>

<script src="js/bubblechart.js"></script>
<script type="text/javascript">
(function ($) {

    var getURLParameter = function(name){
        return decodeURI(
                (RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,null])[1]
        );
    }

    var councilData = {
        name:"Tignere",
        dataset:"cm-tignere",
        year:"2009",
        type:"Actual"
    };

    var councilDataParams = {};
    var bParams = true;
    for(var param in councilData){
        var dataStr = getURLParameter(param);
        if(dataStr!='null'){
            councilDataParams[param] = dataStr;
        }
        else{
            bParams = false;
            console.log("No "+param+" parameter");
            break;
        }
    }
    if(bParams){
        councilData = councilDataParams;
    }

    $("#council-name").text(councilData.name + " Council Budget");

  yepnope.errorTimeout = 1000;
  yepnope([
   { load: OpenSpending.getBubbleChartDependencies('{{site.openspendingjs}}'),
     complete: function() {
        var bubblemap = new OpenSpending.BubbleChart({

            query: {
                dataset: councilData.dataset,
                //cuts: ['year:2009','reporting_type:Actual','financial_flow:EXPENDITURE'],
                cuts: ['year:'+councilData.year,'reporting_type:'+councilData.type,'financial_flow:EXPENDITURE'],
                drilldowns: ['headaccount', 'subaccount'],
                rootNodeLabel: 'Total ('+councilData.type+' '+councilData.year+')'
            }
        });
    }
   }
  ]); // yepnope()   
})(jQuery)
</script>

<div id="bt-map">
    <div id="preloader" style="text-align: center; padding: 100px"><img src="img/ajax-loader.gif" style="vertical-align:top" /> &nbsp;<span class="txt">loading javascript libraries</span></div>

    <div id="cm-bt">

        <div class="bubbletree-wrapper">
            <div id="cm-bubbletree" class="bubbletree"></div>

        </div>
        <div style="position:absolute;top:515px" class="instruction">Click the circles to see the budget breakdowns</div>

    </div>

    <div id="cm-budget-panel">

        <table id="cm-budget-table" cellpadding="5" >
            <!--
            <tr>
                <td class="table-title" colspan="2">Materials and supplies used - 12,200 000</td>
            </tr>
            <tr>
                <td class="left-column">7,000 000</td>
                <td class="right-column">Fuel and lubricants</td>
            </tr>
            <tr>
                <td class="left-column">1,200 000</td>
                <td class="right-column">Maintenance of water and electricity networks</td>
            </tr>
            <tr>
                <td class="left-column">989,000</td>
                <td class="right-column">Stationary</td>
            </tr>
            -->
        </table>


    </div>
</div>

<div style="clear:both"></div>